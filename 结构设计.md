   1. 分层架构

    应用层 (GUI) → 业务逻辑层 (Analysis) → 数据层 
    (PointCloud)

    2. 模块划分

    核心模块：
    - PointCloudLoader: 负责各种格式的点云数据加载
    - PointCloudProcessor: 
    点云预处理（滤波、降噪、法线计算）
    - PotholeDetector: 凹坑检测算法
    - GeometryCalculator: 
    几何测量（深度、体积、面积）
    - Visualizer: 3D可视化管理
    - MainWindow: Qt GUI主窗口

    3. 文件结构

    src/
    ├── core/
    │   ├── PointCloudLoader.h/cpp      # 数据加载
    │   ├── PointCloudProcessor.h/cpp   # 点云处理
    │   └── PointCloud.h                # 
    点云数据结构
    ├── analysis/
    │   ├── PotholeDetector.h/cpp       # 凹坑检测
    │   ├── GeometryCalculator.h/cpp    # 几何测量
    │   └── AnalysisResult.h            # 
    分析结果结构
    ├── visualization/
    │   ├── PCLVisualizer.h/cpp         # 
    PCL可视化封装
    │   └── VisualizerWidget.h/cpp      # Qt 
    Widget集成
    ├── ui/
    │   ├── MainWindow.h/cpp            # 主窗口
    │   ├── ResultPanel.h/cpp           # 
    结果显示面板
    │   └── ControlPanel.h/cpp          # 控制面板
    └── main.cpp                         # 
    程序入口

    4. 技术选型

    - GUI框架: Qt5/6 (提供丰富的界面组件)
    - 点云处理: PCL (已使用)
    - 可视化集成: VTK + Qt 
    (PCL基于VTK，可无缝集成)

    5. 重构步骤

    第一阶段：基础架构
    1. 创建模块化的目录结构
    2. 将 ASCLoader 独立为 PointCloudLoader 类
    3. 创建 PointCloud 数据封装类
    4. 将可视化代码独立为 Visualizer 类

    第二阶段：添加GUI
    5. 集成 Qt 框架，创建 MainWindow
    6. 创建 PCL 可视化的 Qt Widget
    7. 添加结果显示面板和控制面板

    第三阶段：核心功能
    8. 实现 PotholeDetector 凹坑检测算法
    9. 实现 GeometryCalculator 几何测量
    10. 集成分析结果到 GUI

    第四阶段：优化完善
    11. 添加进度条和状态提示
    12. 实现参数调节界面
    13. 添加结果导出功能

    关键设计模式

    - 单例模式: 用于 PointCloudLoader
    - 观察者模式: GUI 与数据处理模块通信
    - 策略模式: 不同的凹坑检测算法
    - MVC模式: 分离数据、逻辑和显示

    CMake 配置更新

    需要添加 Qt5/6 支持，组织多文件编译